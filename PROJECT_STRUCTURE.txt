FAHRPC - Project Structure
==========================

FAHRPC/
├── src/fahrpc/                    # Main Python package (source layout)
│   ├── __init__.py               # Package initialization & exports
│   ├── main.py                   # Entry point & main application loop
│   ├── config.py                 # Configuration loading & management
│   ├── hardware.py               # GPU monitoring (NVIDIA & AMD)
│   ├── discord_rpc.py            # Discord RPC integration
│   ├── scraper.py                # Web scraping for FAH stats
│   ├── logger.py                 # Error logging utilities
│   ├── tray.py                   # System tray icon & menu
│   └── py.typed                  # PEP 561 type hints marker
│
├── pyproject.toml                # Project metadata & dependencies (PEP 621)
├── manifest.in                   # Package distribution manifest
├── README.md                      # Full documentation
├── quick_start.txt               # Setup & reference guide
│
├── setup.bat                      # Automated installation script
├── run_fahrpc.bat                # Application launcher (created by setup.bat)
│
├── FAHRPC.ico                    # Windows icon file (used as fallback)
├── FAHRPC.png                    # Logo/image asset (primary)
├── LICENSE                        # MIT License text
│
├── logdocumentation/              # Logging system documentation
│   ├── LOGGING_START_HERE.md     # Quick reference for logging
│   ├── LOGGING_SYSTEM_OVERVIEW.md # Architecture overview
│   ├── LOGGING_COMPLETE_REFERENCE.md # Full API reference
│   ├── LOGGING_QUICK_COMMANDS.md  # Useful logging commands
│   └── LOGGING_CONSOLIDATION_NOTES.md # How docs were consolidated
│
├── photos/                        # Screenshot gallery
│   ├── logwindow.png             # Console window screenshot
│   ├── rpccycle1.png             # Discord RPC display
│   ├── rpccycle2.png             # Discord RPC alternate
│   └── trayfunctions.png         # System tray menu
│
├── .gitignore                     # Git ignore rules
├── .github/                       # GitHub configuration
│   └── (workflows, templates, etc.)
│
└── dist/                          # Build output (generated)
    ├── fahrpc-1.0.1-py3-none-any.whl    # Wheel distribution
    └── fahrpc-1.0.1.tar.gz              # Source distribution


USER DATA DIRECTORY
===================

Location: %LOCALAPPDATA%\Bandokii\fahrpc\
  - config.json           # User configuration
  - fah_error_log.txt     # Application log file

Created automatically on first run.


MODULE DESCRIPTIONS
===================

src/fahrpc/__init__.py
  - Exports public API
  - Package version (__version__ = "1.0.1")
  - Author metadata (__author__ = "Bandokii")
  - Imports key classes: DiscordRPC, GPUMonitor, FAHScraper, TrayIcon, etc.

src/fahrpc/main.py (~600 lines)
  - Application entry point
  - Main async event loop & control flow
  - Signal handling & graceful shutdown
  - Restart & error recovery logic
  - Discord status update coordination
  - Color-coded console output with ANSI

src/fahrpc/config.py
  - Loads & parses config.json from AppData directory
  - Cross-platform config paths via platformdirs
  - Provides configuration interface
  - Settings validation with helpful errors
  - Default configuration fallback
  - Deep merge of user settings with defaults

src/fahrpc/hardware.py
  - NVIDIA GPU monitoring (nvidia-ml-py)
  - AMD GPU monitoring (pyadl)
  - GPU temperature & utilization tracking
  - GPU name parsing & formatting

src/fahrpc/discord_rpc.py
  - Discord RPC client wrapper (pypresence)
  - Rich presence status updates
  - Connection management
  - Automatic retry logic

src/fahrpc/scraper.py
  - Web scraping engine (Playwright/Chromium)
  - FAH web interface parsing (localhost:7396)
  - Global stats extraction (points, WUs)
  - Smart caching with 5-minute TTL
  - Pre-compiled regex patterns for speed
  - Error handling & timeouts

src/fahrpc/logger.py
  - Timestamped logging to file
  - Module context in log entries (module.function():line)
  - Full stack traces for exceptions
  - Rotating file handler (10MB, 5 backups)
  - Log levels: DEBUG, INFO, WARNING, ERROR, CRITICAL
  - Asyncio warning suppression (configurable)
  - stderr redirection with timestamps

src/fahrpc/tray.py
  - System tray integration (pystray)
  - Tray icon & context menu
  - Window show/hide control
  - Application restart from tray

src/fahrpc/py.typed
  - PEP 561 marker for type checking
  - Signals mypy/pyright to use inline type hints
  - Empty file (presence only matters)


ROOT FILES
==========

pyproject.toml
  - Package name: fahrpc
  - Version: 1.0.1
  - Python requirement: >=3.10
  - 7 core dependencies
  - Console script entry point: fahrpc
  - Build backend: setuptools
  - Tool configs: ruff, uv

README.md
  - Feature overview
  - Installation guide
  - Usage instructions
  - Configuration guide
  - Troubleshooting section
  - Development info
  - FAQ & changelog

quick_start.txt
  - Quick reference guide
  - Installation steps
  - Running FAHRPC
  - Troubleshooting
  - Tips & tricks

setup.bat
  - Automated setup script
  - Downloads & installs uv
  - Creates virtual environment
  - Installs dependencies
  - Installs Playwright browser
  - Creates launcher batch file

run_fahrpc.bat
  - Simple launcher for application
  - Uses uv to run python -m fahrpc.main
  - Created by setup.bat

config.json (in AppData)
  - Discord client ID & button URLs
  - FAH web interface URL (localhost or remote)
  - Temperature thresholds & color settings
  - GPU monitoring settings (enable/disable)
  - Update interval (default: 15 seconds)
  - Display options (hidden start, header)
  - Logging settings


BUILD & DISTRIBUTION
====================

dist/fahrpc-1.0.1-py3-none-any.whl (20.1 KB)
  - Universal wheel (pure Python, py3)
  - All modules included
  - Entry points configured
  - License included in dist-info/

dist/fahrpc-1.0.1.tar.gz (56.2 KB)
  - Source distribution
  - Full source code
  - Metadata files
  - Ready for PyPI upload


DEPENDENCIES
============

Runtime:
  - playwright >=1.40.0    (web scraping & browser automation)
  - pypresence >=4.0.0     (Discord RPC)
  - nvidia-ml-py >=12.535.108  (NVIDIA GPU monitoring)
  - pystray >=0.19.4       (system tray integration)
  - Pillow >=10.0.0        (image handling)
  - pyadl >=0.1            (AMD GPU monitoring)
  - platformdirs >=4.0.0   (cross-platform app data directories)

Development:
  - ruff >=0.1.0           (code linting)

Build:
  - setuptools >=68.0
  - wheel
  - uv (package manager)

External:
  - Discord (client application)
  - Folding@Home (with web interface)
  - Windows 10/11 operating system


ENTRY POINTS
============

Console Script: fahrpc
  - Command: fahrpc
  - Calls: fahrpc.main:main()
  - Available globally after installation


CLASSIFICATION
==============

Development Status: 4 - Beta
Environment: Win32 (MS Windows)
Audience: End Users/Desktop
OS: Windows 10, Windows 11
Python: 3.10, 3.11, 3.12
Topics: Games/Entertainment, Internet, Utilities
License: MIT


VERSION HISTORY
===============

1.0.1 (January 2026)
  - Fixed config file paths to use platformdirs
  - Cross-platform app data directory support
  - Added desktop shortcut creation in setup
  - Improved error handling in batch launcher
  - Updated documentation

1.0.0 (January 2026)
  - Initial PyPI release
  - Modern Python src layout
  - Command-line entry point
  - Full GPU monitoring (NVIDIA + AMD)
  - Discord Rich Presence
  - System tray integration
  - Comprehensive error logging
  - Graceful shutdown & restart
  - Configuration management


PLATFORM SUPPORT
================

✅ Windows 10 (Primary - Full support)
✅ Windows 11 (Primary - Full support)
⚠️  Linux (Code cross-platform-ready but system tray integration requires pystray workarounds)
⚠️  macOS (Code cross-platform-ready but system tray integration limited, GPU driver availability limited)
